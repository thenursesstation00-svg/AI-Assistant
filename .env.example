# ===========================================
# AI Assistant - Environment Variables
# ===========================================
# Copy this file to .env and fill in your values

# ----- Core API Keys -----

# Anthropic Claude API key (required for AI chat)
ANTHROPIC_API_KEY=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

# OpenAI API key (optional, for GPT models)
# OPENAI_API_KEY=sk-...

# Google Gemini API key (optional)
# GOOGLE_GEMINI_API_KEY=...

# ----- Backend Configuration -----

# Backend server port
PORT=3001

# Backend API key for client authentication
# Single key mode (legacy):
BACKEND_API_KEY=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

# OR multi-key mode with roles (JSON format):
# BACKEND_API_KEYS={"admin-key-123":"admin","user-key-456":"user"}

# Set to 'false' to disable API key requirement (development only)
# REQUIRE_API_KEY=false

# ----- CORS & Security -----

# Allowed CORS origin (for development)
CORS_ORIGIN=http://localhost:5173

# Rate limiting
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX_REQUESTS=100

# ----- Search Providers -----

# Search provider: 'serpapi' or 'google'
SEARCH_PROVIDER=serpapi

# SerpAPI key (if using SEARCH_PROVIDER=serpapi)
SERPAPI_KEY=...

# Google Custom Search Engine (if using SEARCH_PROVIDER=google)
# GOOGLE_CSE_KEY=...
# GOOGLE_CSE_CX=...

# Search cache settings
SEARCH_CACHE_TTL_MS=300000
SEARCH_CACHE_MAX=100
SEARCH_RATE_WINDOW_MS=60000
SEARCH_RATE_MAX=5

# Search queue settings
SEARCH_MAX_CONCURRENT=2
SEARCH_QUEUE_DELAY_MS=1000

# ----- GitHub Integration -----

# GitHub personal access token (for repo search/clone)
GITHUB_TOKEN=ghp_...

# ----- OAuth Connectors (Optional) -----

# Gmail OAuth
# GMAIL_CLIENT_ID=...
# GMAIL_CLIENT_SECRET=...
# GMAIL_REDIRECT_URI=urn:ietf:wg:oauth:2.0:oob

# Google Calendar OAuth
# GCAL_CLIENT_ID=...
# GCAL_CLIENT_SECRET=...
# GCAL_REDIRECT_URI=...

# Encryption key for connector tokens (32+ chars recommended)
# CONNECTORS_SECRET_KEY=...

# ----- File Upload & Security -----

# Antivirus scanner command (optional)
# Example for Windows Defender: "C:\Program Files\Windows Defender\MpCmdRun.exe" -Scan -ScanType 3 -File {path}
# AV_SCAN_CMD=...
# AV_SCAN_INTERVAL_MS=15000

# ----- Agent Automation -----

# Set to 'true' to allow agents to execute shell commands (use with caution)
# ENABLE_AGENT_EXEC=false

# ----- Database & Caching -----

# AES-256-GCM encryption key for credentials database (REQUIRED IN PRODUCTION)
# Without this, credentials will not persist across server restarts
# Generate a secure 32-byte hex key with:
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
CREDENTIALS_ENCRYPTION_KEY=

# Redis connection URL (optional, for distributed caching)
# REDIS_URL=redis://:password@localhost:6379/0

# ----- Development & Testing -----

# Environment mode (affects test endpoint availability)
NODE_ENV=development

# Dependencies (ensure correct versions):
# - better-sqlite3: v12.4.6 (requires Visual Studio Build Tools on Windows)
# - openai: v4.104.0  
# - @anthropic-ai/sdk: v0.70.1

# Use mock GitHub API for testing
# USE_MOCK_GITHUB=0

# ----- GitHub Actions / CI -----

# GitHub token for releases (set in repository secrets)
# GH_TOKEN=...
# GITHUB_TOKEN=...

# Repository information (auto-set by GitHub Actions)
# GITHUB_REPOSITORY=owner/repo

# ----- Electron App Runtime -----

# Backend API key injected at build time (packaged apps)
# BACKEND_API_KEY=...

# Frontend API URL
# VITE_API_URL=http://localhost:3001
